parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"yrjL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUniqueId=exports.mergeTransactions=exports.AddressLiteral=exports.Address=void 0;class e{constructor(e){this._address=e}toString(){return this._address}equals(s){return s instanceof e?this._address==s._address:this._address==s}}exports.Address=e;class s extends e{constructor(e){super(e)}}function r(e,s,r){if("old"==r.batchType)return e.push(...s),e;if(0===e.length)return e.push(...s),e;let t=0;for(;t<e.length&&e[t].id.lt.localeCompare(r.maxLt)>=0;)++t;return e.splice(t,0,...s),e}exports.AddressLiteral=s,exports.mergeTransactions=r;const t=4294967295;let o=Math.floor(Math.random()*t);function d(){return o=(o+1)%t}exports.getUniqueId=d;
},{}],"S51G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseTokensObject=exports.serializeTokensObject=exports.parseAccountInteraction=exports.parsePermissions=exports.parseMessage=exports.serializeMessage=exports.parseTransaction=exports.serializeTransaction=void 0;const e=require("./utils");function s(e){return{...e,inMessage:n(e.inMessage),outMessages:e.outMessages.map(n)}}function t(e){return{...e,inMessage:r(e.inMessage),outMessages:e.outMessages.map(r)}}function n(e){return{...e,src:e.src?e.src.toString():void 0,dst:e.dst?e.dst.toString():void 0}}function r(s){return{...s,src:s.src?new e.Address(s.src):void 0,dst:s.dst?new e.Address(s.dst):void 0}}function o(e){return{...e,accountInteraction:e.accountInteraction?i(e.accountInteraction):void 0}}function i(s){return{...s,address:new e.Address(s.address)}}function c(e){return a(e)}function a(s){if(s instanceof e.Address)return s.toString();if(Array.isArray(s)){const e=[];for(const t of s)e.push(a(t));return e}if(null!=s&&"object"==typeof s){const e={};for(const[t,n]of Object.entries(s))e[t]=a(n);return e}return s}function p(e,s){const t={};for(const n of e)t[n.name]=u(n,s[n.name]);return t}function u(s,t){if(s.type.startsWith("map")){let[e,n]=s.type.split(",");e=e.slice(4),n=n.slice(0,-1);const r=[];for(const[o,i]of t)r.push([u({name:"",type:e},o),u({name:"",type:n,components:s.components},i)]);return r}{const n=s.type.endsWith("[]"),r=!n&&s.type.startsWith("optional"),o=n?s.type.slice(0,-2):r?s.type.slice(9,-1):s.type;if(n){const e={name:s.name,type:o,components:s.components},n=[];for(const s of t)n.push(u(e,s));return n}if(r){if(null==t)return null;return u({name:s.name,type:o,components:s.components},t)}if("tuple"==o){const e={};if(null!=s.components)for(const n of s.components)e[n.name]=u(n,t[n.name]);return e}return"address"==o?new e.Address(t):t}}exports.serializeTransaction=s,exports.parseTransaction=t,exports.serializeMessage=n,exports.parseMessage=r,exports.parsePermissions=o,exports.parseAccountInteraction=i,exports.serializeTokensObject=c,exports.parseTokensObject=p;
},{"./utils":"yrjL"}],"qeQ0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscriber=void 0;const t=require("./utils");class s{constructor(t){this.provider=t,this.subscriptions={},this.scanners={}}transactions(t){return this._addSubscription("transactionsFound",t)}oldTransactions(s,r){const o=(0,t.getUniqueId)();return new n(async(t,e)=>{const n=new i(this.provider,{address:s,onData:t,onEnd:e,...r});this.scanners[o]=n,await n.start()},async()=>{const t=this.scanners[o];delete this.scanners[o],null!=t&&await t.stop()},e)}states(t){return this._addSubscription("contractStateChanged",t)}async unsubscribe(){const t=Object.assign({},this.subscriptions);for(const e of Object.keys(this.subscriptions))delete this.subscriptions[e];const s=Object.assign({},this.scanners);for(const e of Object.keys(this.scanners))delete this.scanners[e];await Promise.all(Object.values(t).map(async t=>{const s=Object.assign({},t);for(const e of Object.keys(s))delete t[e];await Promise.all(Object.values(s).map(t=>{if(null!=t)return t.subscription.then(t=>t.unsubscribe()).catch(()=>{})}))}).concat(Object.values(s).map(t=>t.stop())))}_addSubscription(s,i){const o=(0,t.getUniqueId)();return new n((t,e)=>{let n=this.subscriptions[i.toString()],a=null==n?void 0:n[s];if(null==a){const c={[o]:{onData:t,onEnd:e,queue:new r}};a={subscription:this.provider.subscribe(s,{address:i}).then(t=>(t.on("data",t=>{Object.values(c).forEach(({onData:s,queue:e})=>{e.enqueue(()=>s(t))})}),t.on("unsubscribed",()=>{Object.values(c).forEach(({onEnd:t,queue:s})=>{delete c[o],s.clear(),s.enqueue(async()=>t())})}),t)).catch(t=>{throw console.error(t),Object.values(c).forEach(({onEnd:t,queue:s})=>{delete c[o],s.clear(),s.enqueue(()=>t())}),t}),handlers:c},null==n?(n={[s]:a},this.subscriptions[i.toString()]=n):n[s]=a}else a.handlers[o]={onData:t,onEnd:e,queue:new r}},()=>{const t=this.subscriptions[i.toString()];if(null==t)return;const e=t[s];if(null!=e&&(delete e.handlers[o],0===Object.keys(e.handlers).length)){const n=e.subscription;delete t[s],n.then(t=>t.unsubscribe()).catch(console.debug)}0===Object.keys(t).length&&delete this.subscriptions[i.toString()]},e)}}async function e(t,s){await s(t)}exports.Subscriber=s;class n{constructor(t,s,e){this.makeProducer=t,this.stopProducer=s,this.extractor=e}first(){return new Promise(async(t,s)=>{this.makeProducer(async s=>{await this.extractor(s,s=>{this.stopProducer(),t(s)})},()=>s(new Error("Subscription closed")))})}on(t){this.makeProducer(async s=>{await this.extractor(s,t)},()=>{})}merge(t){return new n(async(s,e)=>{const n={counter:0},i=()=>{2==++n.counter&&e()};this.makeProducer(s,i),t.makeProducer(s,i)},()=>{this.stopProducer(),t.stopProducer()},this.extractor)}filter(t){return new n(this.makeProducer,this.stopProducer,(s,e)=>this.extractor(s,async s=>{await t(s)&&await e(s)}))}filterMap(t){return new n(this.makeProducer,this.stopProducer,(s,e)=>this.extractor(s,async s=>{const n=await t(s);void 0!==n&&await e(n)}))}map(t){return this.filterMap(t)}flatMap(t){return new n(this.makeProducer,this.stopProducer,(s,e)=>this.extractor(s,async s=>{const n=await t(s);for(const t of n)await e(t)}))}skip(t){const s={index:0};return new n(this.makeProducer,this.stopProducer,(e,n)=>this.extractor(e,async e=>{s.index>=t?await n(e):++s.index}))}skipWhile(t){const s={shouldSkip:!0};return new n(this.makeProducer,this.stopProducer,(e,n)=>this.extractor(e,async e=>{s.shouldSkip&&await t(e)||(s.shouldSkip=!1,await n(e))}))}}class i{constructor(t,{address:s,onData:e,onEnd:n,fromLt:i,fromUtime:o}){this.provider=t,this.queue=new r,this.isRunning=!1,this.address=s,this.onData=e,this.onEnd=n,this.fromLt=i,this.fromUtime=o}async start(){this.isRunning||null!=this.promise||(this.isRunning=!0,this.promise=(async()=>{for(;this.isRunning;)try{const{transactions:s,continuation:e}=await this.provider.getTransactions({address:this.address,continuation:this.continuation});if(!this.isRunning||null==s.length)break;const n=s.filter(t=>(null==this.fromLt||t.id.lt>this.fromLt)&&(null==this.fromUtime||t.createdAt>this.fromUtime));if(0==n.length)break;const i={maxLt:n[0].id.lt,minLt:n[n.length-1].id.lt,batchType:"old"};if(this.queue.enqueue(()=>this.onData({address:this.address,transactions:n,info:i})),null==e)break;this.continuation=e}catch(t){console.error(t)}this.queue.enqueue(async()=>this.onEnd()),this.isRunning=!1,this.continuation=void 0})())}async stop(){this.isRunning=!1,this.queue.clear(),null!=this.promise?await this.promise:this.onEnd()}}class r{constructor(){this.queue=[],this.workingOnPromise=!1}enqueue(t){this.queue.push(t),this._dequeue().catch(()=>{})}clear(){this.queue.length=0}async _dequeue(){if(this.workingOnPromise)return;const t=this.queue.shift();t&&(this.workingOnPromise=!0,t().then(()=>{this.workingOnPromise=!1,this._dequeue()}).catch(()=>{this.workingOnPromise=!1,this._dequeue()}))}}
},{"./utils":"yrjL"}],"Xnvh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TvmException=exports.Contract=void 0;const t=require("./models");class s{constructor(s,i,n){if(!Array.isArray(i.functions))throw new Error("Invalid abi. Functions array required");if(!Array.isArray(i.events))throw new Error("Invalid abi. Events array required");this._provider=s,this._abi=JSON.stringify(i),this._functions=i.functions.reduce((t,s)=>(t[s.name]={inputs:s.inputs||[],outputs:s.outputs||[]},t),{}),this._events=i.events.reduce((t,s)=>(t[s.name]={inputs:s.inputs||[]},t),{}),this._address=n;class a{constructor(s,e,i,n,a,r){this.provider=s,this.functionAbi=e,this.abi=i,this.address=n,this.method=a,this.params=(0,t.serializeTokensObject)(r)}async send(s){const{transaction:e}=await this.provider.rawApi.sendMessage({sender:s.from.toString(),recipient:this.address.toString(),amount:s.amount,bounce:null==s.bounce||s.bounce,payload:{abi:this.abi,method:this.method,params:this.params}});return(0,t.parseTransaction)(e)}async sendWithResult(s){const e=this.provider.createSubscriber();try{let n,a;const r=new Promise(t=>{a=(s=>t(s))}),o=[];e.transactions(this.address).flatMap(t=>t.transactions).filter(t=>{var e;return(null===(e=t.inMessage.src)||void 0===e?void 0:e.equals(s.from))||!1}).on(t=>{null==n?o.push(t):n.possibleMessages.findIndex(s=>s.hash==t.inMessage.hash)>=0&&(null==a||a(t))});const u=await this.send(s),c=u.outMessages.filter(t=>{var s;return(null===(s=t.dst)||void 0===s?void 0:s.equals(this.address))||!1});n={transaction:u,possibleMessages:c};const d=o.find(t=>c.findIndex(s=>s.hash==t.inMessage.hash)>=0);null!=d&&(null==a||a(d));const h=await r;let p=void 0;try{const s=await this.provider.rawApi.decodeTransaction({transaction:(0,t.serializeTransaction)(h),abi:this.abi,method:this.method});null!=s&&(p=null!=this.functionAbi.outputs?(0,t.parseTokensObject)(this.functionAbi.outputs,s.output):{})}catch(i){console.error(i)}return{parentTransaction:n.transaction,childTransaction:h,output:p}}finally{await e.unsubscribe()}}async estimateFees(t){const{fees:s}=await this.provider.rawApi.estimateFees({sender:t.from.toString(),recipient:this.address.toString(),amount:t.amount,payload:{abi:this.abi,method:this.method,params:this.params}});return s}async sendExternal(s){let e=!0===s.withoutSignature?this.provider.rawApi.sendUnsignedExternalMessage:this.provider.rawApi.sendExternalMessage,{transaction:i,output:n}=await e({publicKey:s.publicKey,recipient:this.address.toString(),stateInit:s.stateInit,payload:{abi:this.abi,method:this.method,params:this.params},local:s.local});return{transaction:(0,t.parseTransaction)(i),output:null!=n?(0,t.parseTokensObject)(this.functionAbi.outputs,n):void 0}}async call(s={}){let{output:i,code:n}=await this.provider.rawApi.runLocal({address:this.address.toString(),cachedState:s.cachedState,responsible:s.responsible,functionCall:{abi:this.abi,method:this.method,params:this.params}});if(null==i||0!=n)throw new e(n);return(0,t.parseTokensObject)(this.functionAbi.outputs,i)}}this._methods=new Proxy({},{get:(t,s)=>{const e=this._functions[s];return t=>new a(this._provider,e,this._abi,this._address,s,t)}})}get methods(){return this._methods}get address(){return this._address}get abi(){return this._abi}async decodeTransaction(s){try{const i=await this._provider.rawApi.decodeTransaction({transaction:(0,t.serializeTransaction)(s.transaction),abi:this._abi,method:s.methods});if(null==i)return;let{method:n,input:a,output:r}=i;const o=this._functions[n];return{method:n,input:null!=o.inputs?(0,t.parseTokensObject)(o.inputs,a):{},output:null!=o.outputs?(0,t.parseTokensObject)(o.outputs,r):{}}}catch(e){return}}async decodeTransactionEvents(s){try{const{events:i}=await this._provider.rawApi.decodeTransactionEvents({transaction:(0,t.serializeTransaction)(s.transaction),abi:this._abi}),n=[];for(const{event:s,data:e}of i){const i=this._events[s];n.push({event:s,data:null!=i.inputs?(0,t.parseTokensObject)(i.inputs,e):{}})}return n}catch(e){return[]}}async decodeInputMessage(s){try{const i=await this._provider.rawApi.decodeInput({abi:this._abi,body:s.body,internal:s.internal,method:s.methods});if(null==i)return;let{method:n,input:a}=i;const r=this._functions[n];return{method:n,input:null!=r.inputs?(0,t.parseTokensObject)(r.inputs,a):{}}}catch(e){return}}async decodeOutputMessage(s){try{const i=await this._provider.rawApi.decodeOutput({abi:this._abi,body:s.body,method:s.methods});if(null==i)return;let{method:n,output:a}=i;const r=this._functions[n];return{method:n,output:null!=r.outputs?(0,t.parseTokensObject)(r.outputs,a):{}}}catch(e){return}}}exports.Contract=s;class e extends Error{constructor(t){super(`TvmException: ${t}`),this.code=t}}exports.TvmException=e;
},{"./models":"S51G"}],"mEq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});
},{}],"RebX":[function(require,module,exports) {
"use strict";var t=this&&this.__createBinding||(Object.create?function(t,e,s,r){void 0===r&&(r=s),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,r){void 0===r&&(r=s),t[r]=e[s]}),e=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var r={};if(null!=s)for(var i in s)"default"!==i&&Object.prototype.hasOwnProperty.call(s,i)&&t(r,s,i);return e(r,s),r},r=this&&this.__exportStar||function(e,s){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(s,r)||t(s,e,r)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProviderNotInitializedException=exports.ProviderNotFoundException=exports.ProviderRpcClient=exports.hasEverscaleProvider=exports.mergeTransactions=exports.AddressLiteral=exports.Address=exports.Subscriber=void 0;const i=require("./models"),n=require("./utils"),a=s(require("./stream")),o=s(require("./contract"));r(require("./api"),exports),r(require("./models"),exports),r(require("./contract"),exports);var c=require("./stream");Object.defineProperty(exports,"Subscriber",{enumerable:!0,get:function(){return c.Subscriber}});var d=require("./utils");let u;async function p(){return await u,!0===window.__hasEverscaleProvider||!0===window.hasTonProvider}Object.defineProperty(exports,"Address",{enumerable:!0,get:function(){return d.Address}}),Object.defineProperty(exports,"AddressLiteral",{enumerable:!0,get:function(){return d.AddressLiteral}}),Object.defineProperty(exports,"mergeTransactions",{enumerable:!0,get:function(){return d.mergeTransactions}}),u="complete"==document.readyState?Promise.resolve():new Promise(t=>{window.addEventListener("load",()=>{t()})}),exports.hasEverscaleProvider=p;class l{constructor(t={}){this._subscriptions={},this._contractSubscriptions={};const e=this;this.Contract=class extends o.Contract{constructor(t,s){super(e,t,s)}};this.Subscriber=class extends a.Subscriber{constructor(){super(e)}},this._properties=t,this._api=new Proxy({},{get:(t,e)=>t=>{if(null!=this._provider)return this._provider.request({method:e,params:t});throw new b}}),this._provider=window.__ever||window.ton,null!=this._provider?this._mainInitializationPromise=Promise.resolve():this._mainInitializationPromise=p().then(t=>new Promise((e,s)=>{if(t)if(this._provider=window.__ever||window.ton,null!=this._provider)e();else{const t=!0===window.__hasEverscaleProvider?"ever#initialized":"ton#initialized";window.addEventListener(t,t=>{this._provider=window.__ever||window.ton,e()})}else s(new h)})),this._mainInitializationPromise.then(()=>{null!=this._provider&&this._registerEventHandlers(this._provider)})}async hasProvider(){return p()}async ensureInitialized(){try{await this._mainInitializationPromise}catch(t){if(null==this._properties.fallback)throw t;null==this._additionalInitializationPromise&&(this._additionalInitializationPromise=this._properties.fallback().then(async t=>{this._provider=t,this._registerEventHandlers(this._provider)})),await this._additionalInitializationPromise}}get isInitialized(){return null!=this._provider}get raw(){if(null!=this._provider)return this._provider;throw new b}get rawApi(){return this._api}createContract(t,e){return new this.Contract(t,e)}createSubscriber(){return new this.Subscriber}async requestPermissions(t){const e=await this._api.requestPermissions({permissions:t.permissions});return(0,i.parsePermissions)(e)}async changeAccount(){await this._api.changeAccount()}async disconnect(){await this._api.disconnect()}async subscribe(t,e){class s{constructor(t,e){this._subscribe=t,this._unsubscribe=e,this._listeners={data:[],subscribed:[],unsubscribed:[]}}on(t,e){return this._listeners[t].push(e),this}async subscribe(){await this._subscribe(this);for(const t of this._listeners.subscribed)t()}async unsubscribe(){await this._unsubscribe();for(const t of this._listeners.unsubscribed)t()}notify(t){for(const e of this._listeners.data)e(t)}}let r=this._getEventSubscriptions(t);const i=(0,n.getUniqueId)();switch(t){case"connected":case"disconnected":case"networkChanged":case"permissionsChanged":case"loggedOut":{const t=new s(async t=>{null==r[i]&&(r[i]=(e=>{t.notify(e)}))},async()=>{delete r[i]});return await t.subscribe(),t}case"transactionsFound":case"contractStateChanged":{const n=e.address.toString(),a=new s(async e=>{if(null!=r[i])return;r[i]=(t=>{t.address.toString()==n&&e.notify(t)});let s=this._contractSubscriptions[n];null==s&&(s={},this._contractSubscriptions[n]=s),s[i]={state:"contractStateChanged"==t,transactions:"transactionsFound"==t};const{total:a,withoutExcluded:o}=w(Object.values(s),s[i]);try{a.transactions==o.transactions&&a.state==o.state||await this.rawApi.subscribe({address:n,subscriptions:a})}catch(c){throw delete r[i],delete s[i],c}},async()=>{delete r[i];const t=this._contractSubscriptions[n];if(null==t)return;const e=t[i],{total:s,withoutExcluded:a}=w(Object.values(t),e);delete t[i],a.transactions||a.state?s.transactions==a.transactions&&s.state==a.state||await this.rawApi.subscribe({address:n,subscriptions:a}):await this.rawApi.unsubscribe({address:n})});return await a.subscribe(),a}default:throw new Error(`Unknown event ${t}`)}}async getProviderState(){const t=await this._api.getProviderState();return{...t,permissions:(0,i.parsePermissions)(t.permissions)}}async getFullContractState(t){return await this._api.getFullContractState({address:t.address.toString()})}async getAccountsByCodeHash(t){const{accounts:e,continuation:s}=await this._api.getAccountsByCodeHash({...t});return{accounts:e.map(t=>new n.Address(t)),continuation:s}}async getTransactions(t){const{transactions:e,continuation:s,info:r}=await this._api.getTransactions({...t,address:t.address.toString()});return{transactions:e.map(i.parseTransaction),continuation:s,info:r}}async getTransaction(t){const{transaction:e}=await this._api.getTransaction({...t});return{transaction:e?(0,i.parseTransaction)(e):void 0}}async getExpectedAddress(t,e){const{address:s}=await this._api.getExpectedAddress({abi:JSON.stringify(t),...e,initParams:(0,i.serializeTokensObject)(e.initParams)});return new n.Address(s)}async getBocHash(t){return await this._api.getBocHash({boc:t}).then(({hash:t})=>t)}async packIntoCell(t){return await this._api.packIntoCell({structure:t.structure,data:(0,i.serializeTokensObject)(t.data)})}async unpackFromCell(t){const{data:e}=await this._api.unpackFromCell({...t,structure:t.structure});return{data:(0,i.parseTokensObject)(t.structure,e)}}async extractPublicKey(t){const{publicKey:e}=await this._api.extractPublicKey({boc:t});return e}async codeToTvc(t){const{tvc:e}=await this._api.codeToTvc({code:t});return e}async splitTvc(t){return await this._api.splitTvc({tvc:t})}async addAsset(t){let e;switch(t.type){case"tip3_token":e={rootContract:t.params.rootContract.toString()};break;default:throw new Error("Unknown asset type")}return await this._api.addAsset({account:t.account.toString(),type:t.type,params:e})}async verifySignature(t){return await this._api.verifySignature(t)}async signData(t){return await this._api.signData(t)}async signDataRaw(t){return await this._api.signDataRaw(t)}async encryptData(t){const{encryptedData:e}=await this._api.encryptData(t);return e}async decryptData(t){const{data:e}=await this._api.decryptData({encryptedData:t});return e}async sendMessage(t){const{transaction:e}=await this._api.sendMessage({...t,sender:t.sender.toString(),recipient:t.recipient.toString(),payload:t.payload?{abi:t.payload.abi,method:t.payload.method,params:(0,i.serializeTokensObject)(t.payload.params)}:void 0});return{transaction:(0,i.parseTransaction)(e)}}_registerEventHandlers(t){const e={connected:t=>t,disconnected:t=>t,transactionsFound:t=>({address:new n.Address(t.address),transactions:t.transactions.map(i.parseTransaction),info:t.info}),contractStateChanged:t=>({address:new n.Address(t.address),state:t.state}),networkChanged:t=>t,permissionsChanged:t=>({permissions:(0,i.parsePermissions)(t.permissions)}),loggedOut:t=>t};for(const[s,r]of Object.entries(e))t.addListener(s,t=>{const e=this._subscriptions[s];if(null==e)return;const i=r(t);for(const s of Object.values(e))s(i)})}_getEventSubscriptions(t){let e=this._subscriptions[t];return null==e&&(e={},this._subscriptions[t]=e),e}}exports.ProviderRpcClient=l;class h extends Error{constructor(){super("Everscale provider was not found")}}exports.ProviderNotFoundException=h;class b extends Error{constructor(){super("Everscale provider was not initialized yet")}}function w(t,e){const s={state:!1,transactions:!1},r=Object.assign({},s);for(const i of t){if(r.transactions&&r.state)break;s.state||(s.state=i.state),s.transactions||(s.transactions=i.transactions),i!=e&&(r.state||(r.state=i.state),r.transactions||(r.transactions=i.transactions))}return{total:s,withoutExcluded:r}}exports.ProviderNotInitializedException=b;
},{"./models":"S51G","./utils":"yrjL","./stream":"qeQ0","./contract":"Xnvh","./api":"mEq5"}],"vrSf":[function(require,module,exports) {
var define;
var e;!function(r){"use strict";var n,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",f=s+"Number primitive has more than 15 significant digits: ",u=1e14,l=14,c=9007199254740991,a=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function p(e){var r=0|e;return e>0||e===r?r:r-1}function w(e){for(var r,n,t=1,i=e.length,o=e[0]+"";t<i;){for(r=e[t++]+"",n=l-r.length;n--;r="0"+r);o+=r}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function m(e,r){var n,t,i=e.c,o=r.c,s=e.s,f=r.s,u=e.e,l=r.e;if(!s||!f)return null;if(n=i&&!i[0],t=o&&!o[0],n||t)return n?t?0:-f:s;if(s!=f)return s;if(n=s<0,t=u==l,!i||!o)return t?0:!i^n?1:-1;if(!t)return u>l^n?1:-1;for(f=(u=i.length)<(l=o.length)?u:l,s=0;s<f;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return u==l?0:u>l^n?1:-1}function d(e,r,n,t){if(e<r||e>n||e!==o(e))throw Error(s+(t||"Argument")+("number"==typeof e?e<r||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var r=e.c.length-1;return p(e.e/l)==r&&e.c[r]%2!=0}function N(e,r){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function O(e,r,n){var t,i;if(r<0){for(i=n+".";++r;i+=n);e=i+e}else if(++r>(t=e.length)){for(i=n,r-=t;--r;i+=n);e+=i}else r<t&&(e=e.slice(0,r)+"."+e.slice(r));return e}(n=function e(r){var n,y,b,E,A,S,R,_,B,D=$.prototype={constructor:$,toString:null,valueOf:null},P=new $(1),x=20,L=4,U=-7,I=21,T=-1e7,C=1e7,M=!1,G=1,k=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz",j=!0;function $(e,r){var n,i,s,u,a,h,g,p,w=this;if(!(w instanceof $))return new $(e,r);if(null==r){if(e&&!0===e._isBigNumber)return w.s=e.s,void(!e.c||e.e>C?w.c=w.e=null:e.e<T?w.c=[w.e=0]:(w.e=e.e,w.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(w.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,a=e;a>=10;a/=10,u++);return void(u>C?w.c=w.e=null:(w.e=u,w.c=[e]))}p=String(e)}else{if(!t.test(p=String(e)))return b(w,p,h);w.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(u=p.indexOf("."))>-1&&(p=p.replace(".","")),(a=p.search(/e/i))>0?(u<0&&(u=a),u+=+p.slice(a+1),p=p.substring(0,a)):u<0&&(u=p.length)}else{if(d(r,2,q.length,"Base"),10==r&&j)return W(w=new $(e),x+w.e+1,L);if(p=String(e),h="number"==typeof e){if(0*e!=0)return b(w,p,h,r);if(w.s=1/e<0?(p=p.slice(1),-1):1,$.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(f+e)}else w.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=q.slice(0,r),u=a=0,g=p.length;a<g;a++)if(n.indexOf(i=p.charAt(a))<0){if("."==i){if(a>u){u=g;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,a=-1,u=0;continue}return b(w,String(e),h,r)}h=!1,(u=(p=y(p,r,10,w.s)).indexOf("."))>-1?p=p.replace(".",""):u=p.length}for(a=0;48===p.charCodeAt(a);a++);for(g=p.length;48===p.charCodeAt(--g););if(p=p.slice(a,++g)){if(g-=a,h&&$.DEBUG&&g>15&&(e>c||e!==o(e)))throw Error(f+w.s*e);if((u=u-a-1)>C)w.c=w.e=null;else if(u<T)w.c=[w.e=0];else{if(w.e=u,w.c=[],a=(u+1)%l,u<0&&(a+=l),a<g){for(a&&w.c.push(+p.slice(0,a)),g-=l;a<g;)w.c.push(+p.slice(a,a+=l));a=l-(p=p.slice(a)).length}else a-=g;for(;a--;p+="0");w.c.push(+p)}}else w.c=[w.e=0]}function z(e,r,n,t){var i,o,s,f,u;if(null==n?n=L:d(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==r)u=w(e.c),u=1==t||2==t&&(s<=U||s>=I)?N(u,s):O(u,s,"0");else if(o=(e=W(new $(e),r,n)).e,f=(u=w(e.c)).length,1==t||2==t&&(r<=o||o<=U)){for(;f<r;u+="0",f++);u=N(u,o)}else if(r-=s,u=O(u,o,"0"),o+1>f){if(--r>0)for(u+=".";r--;u+="0");}else if((r+=o-f)>0)for(o+1==f&&(u+=".");r--;u+="0");return e.s<0&&i?"-"+u:u}function H(e,r){for(var n,t=1,i=new $(e[0]);t<e.length;t++){if(!(n=new $(e[t])).s){i=n;break}r.call(i,n)&&(i=n)}return i}function V(e,r,n){for(var t=1,i=r.length;!r[--i];r.pop());for(i=r[0];i>=10;i/=10,t++);return(n=t+n*l-1)>C?e.c=e.e=null:n<T?e.c=[e.e=0]:(e.e=n,e.c=r),e}function W(e,r,n,t){var s,f,c,h,g,p,w,m=e.c,d=a;if(m){e:{for(s=1,h=m[0];h>=10;h/=10,s++);if((f=r-s)<0)f+=l,c=r,w=(g=m[p=0])/d[s-c-1]%10|0;else if((p=i((f+1)/l))>=m.length){if(!t)break e;for(;m.length<=p;m.push(0));g=w=0,s=1,c=(f%=l)-l+1}else{for(g=h=m[p],s=1;h>=10;h/=10,s++);w=(c=(f%=l)-l+s)<0?0:g/d[s-c-1]%10|0}if(t=t||r<0||null!=m[p+1]||(c<0?g:g%d[s-c-1]),t=n<4?(w||t)&&(0==n||n==(e.s<0?3:2)):w>5||5==w&&(4==n||t||6==n&&(f>0?c>0?g/d[s-c]:0:m[p-1])%10&1||n==(e.s<0?8:7)),r<1||!m[0])return m.length=0,t?(r-=e.e+1,m[0]=d[(l-r%l)%l],e.e=-r||0):m[0]=e.e=0,e;if(0==f?(m.length=p,h=1,p--):(m.length=p+1,h=d[l-f],m[p]=c>0?o(g/d[s-c]%d[c])*h:0),t)for(;;){if(0==p){for(f=1,c=m[0];c>=10;c/=10,f++);for(c=m[0]+=h,h=1;c>=10;c/=10,h++);f!=h&&(e.e++,m[0]==u&&(m[0]=1));break}if(m[p]+=h,m[p]!=u)break;m[p--]=0,h=1}for(f=m.length;0===m[--f];m.pop());}e.e>C?e.c=e.e=null:e.e<T&&(e.c=[e.e=0])}return e}function X(e){var r,n=e.e;return null===n?e.toString():(r=w(e.c),r=n<=U||n>=I?N(r,n):O(r,n,"0"),e.s<0?"-"+r:r)}return $.clone=e,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(e){var r,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(d(n=e[r],0,g,r),x=n),e.hasOwnProperty(r="ROUNDING_MODE")&&(d(n=e[r],0,8,r),L=n),e.hasOwnProperty(r="EXPONENTIAL_AT")&&((n=e[r])&&n.pop?(d(n[0],-g,0,r),d(n[1],0,g,r),U=n[0],I=n[1]):(d(n,-g,g,r),U=-(I=n<0?-n:n))),e.hasOwnProperty(r="RANGE"))if((n=e[r])&&n.pop)d(n[0],-g,-1,r),d(n[1],1,g,r),T=n[0],C=n[1];else{if(d(n,-g,g,r),!n)throw Error(s+r+" cannot be zero: "+n);T=-(C=n<0?-n:n)}if(e.hasOwnProperty(r="CRYPTO")){if((n=e[r])!==!!n)throw Error(s+r+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(s+"crypto unavailable");M=n}else M=n}if(e.hasOwnProperty(r="MODULO_MODE")&&(d(n=e[r],0,9,r),G=n),e.hasOwnProperty(r="POW_PRECISION")&&(d(n=e[r],0,g,r),k=n),e.hasOwnProperty(r="FORMAT")){if("object"!=typeof(n=e[r]))throw Error(s+r+" not an object: "+n);F=n}if(e.hasOwnProperty(r="ALPHABET")){if("string"!=typeof(n=e[r])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(s+r+" invalid: "+n);j="0123456789"==n.slice(0,10),q=n}}return{DECIMAL_PLACES:x,ROUNDING_MODE:L,EXPONENTIAL_AT:[U,I],RANGE:[T,C],CRYPTO:M,MODULO_MODE:G,POW_PRECISION:k,FORMAT:F,ALPHABET:q}},$.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!$.DEBUG)return!0;var r,n,t=e.c,i=e.e,f=e.s;e:if("[object Array]"=={}.toString.call(t)){if((1===f||-1===f)&&i>=-g&&i<=g&&i===o(i)){if(0===t[0]){if(0===i&&1===t.length)return!0;break e}if((r=(i+1)%l)<1&&(r+=l),String(t[0]).length==r){for(r=0;r<t.length;r++)if((n=t[r])<0||n>=u||n!==o(n))break e;if(0!==n)return!0}}}else if(null===t&&null===i&&(null===f||1===f||-1===f))return!0;throw Error(s+"Invalid BigNumber: "+e)},$.maximum=$.max=function(){return H(arguments,D.lt)},$.minimum=$.min=function(){return H(arguments,D.gt)},$.random=(E=9007199254740992*Math.random()&2097151?function(){return o(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var r,n,t,f,u,c=0,h=[],p=new $(P);if(null==e?e=x:d(e,0,g),f=i(e/l),M)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(f*=2));c<f;)(u=131072*r[c]+(r[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[c]=n[0],r[c+1]=n[1]):(h.push(u%1e14),c+=2);c=f/2}else{if(!crypto.randomBytes)throw M=!1,Error(s+"crypto unavailable");for(r=crypto.randomBytes(f*=7);c<f;)(u=281474976710656*(31&r[c])+1099511627776*r[c+1]+4294967296*r[c+2]+16777216*r[c+3]+(r[c+4]<<16)+(r[c+5]<<8)+r[c+6])>=9e15?crypto.randomBytes(7).copy(r,c):(h.push(u%1e14),c+=7);c=f/7}if(!M)for(;c<f;)(u=E())<9e15&&(h[c++]=u%1e14);for(f=h[--c],e%=l,f&&e&&(u=a[l-e],h[c]=o(f/u)*u);0===h[c];h.pop(),c--);if(c<0)h=[t=0];else{for(t=-1;0===h[0];h.splice(0,1),t-=l);for(c=1,u=h[0];u>=10;u/=10,c++);c<l&&(t-=l-c)}return p.e=t,p.c=h,p}),$.sum=function(){for(var e=1,r=arguments,n=new $(r[0]);e<r.length;)n=n.plus(r[e++]);return n},y=function(){function e(e,r,n,t){for(var i,o,s=[0],f=0,u=e.length;f<u;){for(o=s.length;o--;s[o]*=r);for(s[0]+=t.indexOf(e.charAt(f++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,t,i,o,s){var f,u,l,c,a,h,g,p,m=r.indexOf("."),d=x,v=L;for(m>=0&&(c=k,k=0,r=r.replace(".",""),h=(p=new $(t)).pow(r.length-m),k=c,p.c=e(O(w(h.c),h.e,"0"),10,i,"0123456789"),p.e=p.c.length),l=c=(g=e(r,t,i,s?(f=q,"0123456789"):(f="0123456789",q))).length;0==g[--c];g.pop());if(!g[0])return f.charAt(0);if(m<0?--l:(h.c=g,h.e=l,h.s=o,g=(h=n(h,p,d,v,i)).c,a=h.r,l=h.e),m=g[u=l+d+1],c=i/2,a=a||u<0||null!=g[u+1],a=v<4?(null!=m||a)&&(0==v||v==(h.s<0?3:2)):m>c||m==c&&(4==v||a||6==v&&1&g[u-1]||v==(h.s<0?8:7)),u<1||!g[0])r=a?O(f.charAt(1),-d,f.charAt(0)):f.charAt(0);else{if(g.length=u,a)for(--i;++g[--u]>i;)g[u]=0,u||(++l,g=[1].concat(g));for(c=g.length;!g[--c];);for(m=0,r="";m<=c;r+=f.charAt(g[m++]));r=O(r,l,f.charAt(0))}return r}}(),n=function(){function e(e,r,n){var t,i,o,s,f=0,u=e.length,l=r%h,c=r/h|0;for(e=e.slice();u--;)f=((i=l*(o=e[u]%h)+(t=c*o+(s=e[u]/h|0)*l)%h*h+f)/n|0)+(t/h|0)+c*s,e[u]=i%n;return f&&(e=[f].concat(e)),e}function r(e,r,n,t){var i,o;if(n!=t)o=n>t?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=r[i]){o=e[i]>r[i]?1:-1;break}return o}function n(e,r,n,t){for(var i=0;n--;)e[n]-=i,i=e[n]<r[n]?1:0,e[n]=i*t+e[n]-r[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(t,i,s,f,c){var a,h,g,w,m,d,v,N,O,y,b,E,A,S,R,_,B,D=t.s==i.s?1:-1,P=t.c,x=i.c;if(!(P&&P[0]&&x&&x[0]))return new $(t.s&&i.s&&(P?!x||P[0]!=x[0]:x)?P&&0==P[0]||!x?0*D:D/0:NaN);for(O=(N=new $(D)).c=[],D=s+(h=t.e-i.e)+1,c||(c=u,h=p(t.e/l)-p(i.e/l),D=D/l|0),g=0;x[g]==(P[g]||0);g++);if(x[g]>(P[g]||0)&&h--,D<0)O.push(1),w=!0;else{for(S=P.length,_=x.length,g=0,D+=2,(m=o(c/(x[0]+1)))>1&&(x=e(x,m,c),P=e(P,m,c),_=x.length,S=P.length),A=_,b=(y=P.slice(0,_)).length;b<_;y[b++]=0);B=x.slice(),B=[0].concat(B),R=x[0],x[1]>=c/2&&R++;do{if(m=0,(a=r(x,y,_,b))<0){if(E=y[0],_!=b&&(E=E*c+(y[1]||0)),(m=o(E/R))>1)for(m>=c&&(m=c-1),v=(d=e(x,m,c)).length,b=y.length;1==r(d,y,v,b);)m--,n(d,_<v?B:x,v,c),v=d.length,a=1;else 0==m&&(a=m=1),v=(d=x.slice()).length;if(v<b&&(d=[0].concat(d)),n(y,d,b,c),b=y.length,-1==a)for(;r(x,y,_,b)<1;)m++,n(y,_<b?B:x,b,c),b=y.length}else 0===a&&(m++,y=[0]);O[g++]=m,y[0]?y[b++]=P[A]||0:(y=[P[A]],b=1)}while((A++<S||null!=y[0])&&D--);w=null!=y[0],O[0]||O.splice(0,1)}if(c==u){for(g=1,D=O[0];D>=10;D/=10,g++);W(N,s+(N.e=g+h*l-1)+1,f,w)}else N.e=h,N.r=+w;return N}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,R=/^\.([^.]+)$/,_=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(e,r,n,t){var i,o=n?r:r.replace(B,"");if(_.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(A,function(e,r,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,t&&t!=i?e:r}),t&&(i=t,o=o.replace(S,"$1").replace(R,"0.$1")),r!=o))return new $(o,i);if($.DEBUG)throw Error(s+"Not a"+(t?" base "+t:"")+" number: "+r);e.s=null}e.c=e.e=null},D.absoluteValue=D.abs=function(){var e=new $(this);return e.s<0&&(e.s=1),e},D.comparedTo=function(e,r){return m(this,new $(e,r))},D.decimalPlaces=D.dp=function(e,r){var n,t,i,o=this;if(null!=e)return d(e,0,g),null==r?r=L:d(r,0,8),W(new $(o),e+o.e+1,r);if(!(n=o.c))return null;if(t=((i=n.length-1)-p(this.e/l))*l,i=n[i])for(;i%10==0;i/=10,t--);return t<0&&(t=0),t},D.dividedBy=D.div=function(e,r){return n(this,new $(e,r),x,L)},D.dividedToIntegerBy=D.idiv=function(e,r){return n(this,new $(e,r),0,1)},D.exponentiatedBy=D.pow=function(e,r){var n,t,f,u,c,a,h,g,p=this;if((e=new $(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+X(e));if(null!=r&&(r=new $(r)),c=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return g=new $(Math.pow(+X(p),c?2-v(e):+X(e))),r?g.mod(r):g;if(a=e.s<0,r){if(r.c?!r.c[0]:!r.s)return new $(NaN);(t=!a&&p.isInteger()&&r.isInteger())&&(p=p.mod(r))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||c&&p.c[1]>=24e7:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return u=p.s<0&&v(e)?-0:0,p.e>-1&&(u=1/u),new $(a?1/u:u);k&&(u=i(k/l+2))}for(c?(n=new $(.5),a&&(e.s=1),h=v(e)):h=(f=Math.abs(+X(e)))%2,g=new $(P);;){if(h){if(!(g=g.times(p)).c)break;u?g.c.length>u&&(g.c.length=u):t&&(g=g.mod(r))}if(f){if(0===(f=o(f/2)))break;h=f%2}else if(W(e=e.times(n),e.e+1,1),e.e>14)h=v(e);else{if(0==(f=+X(e)))break;h=f%2}p=p.times(p),u?p.c&&p.c.length>u&&(p.c.length=u):t&&(p=p.mod(r))}return t?g:(a&&(g=P.div(g)),r?g.mod(r):u?W(g,k,L,void 0):g)},D.integerValue=function(e){var r=new $(this);return null==e?e=L:d(e,0,8),W(r,r.e+1,e)},D.isEqualTo=D.eq=function(e,r){return 0===m(this,new $(e,r))},D.isFinite=function(){return!!this.c},D.isGreaterThan=D.gt=function(e,r){return m(this,new $(e,r))>0},D.isGreaterThanOrEqualTo=D.gte=function(e,r){return 1===(r=m(this,new $(e,r)))||0===r},D.isInteger=function(){return!!this.c&&p(this.e/l)>this.c.length-2},D.isLessThan=D.lt=function(e,r){return m(this,new $(e,r))<0},D.isLessThanOrEqualTo=D.lte=function(e,r){return-1===(r=m(this,new $(e,r)))||0===r},D.isNaN=function(){return!this.s},D.isNegative=function(){return this.s<0},D.isPositive=function(){return this.s>0},D.isZero=function(){return!!this.c&&0==this.c[0]},D.minus=function(e,r){var n,t,i,o,s=this,f=s.s;if(r=(e=new $(e,r)).s,!f||!r)return new $(NaN);if(f!=r)return e.s=-r,s.plus(e);var c=s.e/l,a=e.e/l,h=s.c,g=e.c;if(!c||!a){if(!h||!g)return h?(e.s=-r,e):new $(g?s:NaN);if(!h[0]||!g[0])return g[0]?(e.s=-r,e):new $(h[0]?s:3==L?-0:0)}if(c=p(c),a=p(a),h=h.slice(),f=c-a){for((o=f<0)?(f=-f,i=h):(a=c,i=g),i.reverse(),r=f;r--;i.push(0));i.reverse()}else for(t=(o=(f=h.length)<(r=g.length))?f:r,f=r=0;r<t;r++)if(h[r]!=g[r]){o=h[r]<g[r];break}if(o&&(i=h,h=g,g=i,e.s=-e.s),(r=(t=g.length)-(n=h.length))>0)for(;r--;h[n++]=0);for(r=u-1;t>f;){if(h[--t]<g[t]){for(n=t;n&&!h[--n];h[n]=r);--h[n],h[t]+=u}h[t]-=g[t]}for(;0==h[0];h.splice(0,1),--a);return h[0]?V(e,h,a):(e.s=3==L?-1:1,e.c=[e.e=0],e)},D.modulo=D.mod=function(e,r){var t,i,o=this;return e=new $(e,r),!o.c||!e.s||e.c&&!e.c[0]?new $(NaN):!e.c||o.c&&!o.c[0]?new $(o):(9==G?(i=e.s,e.s=1,t=n(o,e,0,3),e.s=i,t.s*=i):t=n(o,e,0,G),(e=o.minus(t.times(e))).c[0]||1!=G||(e.s=o.s),e)},D.multipliedBy=D.times=function(e,r){var n,t,i,o,s,f,c,a,g,w,m,d,v,N,O,y=this,b=y.c,E=(e=new $(e,r)).c;if(!(b&&E&&b[0]&&E[0]))return!y.s||!e.s||b&&!b[0]&&!E||E&&!E[0]&&!b?e.c=e.e=e.s=null:(e.s*=y.s,b&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(t=p(y.e/l)+p(e.e/l),e.s*=y.s,(c=b.length)<(w=E.length)&&(v=b,b=E,E=v,i=c,c=w,w=i),i=c+w,v=[];i--;v.push(0));for(N=u,O=h,i=w;--i>=0;){for(n=0,m=E[i]%O,d=E[i]/O|0,o=i+(s=c);o>i;)n=((a=m*(a=b[--s]%O)+(f=d*a+(g=b[s]/O|0)*m)%O*O+v[o]+n)/N|0)+(f/O|0)+d*g,v[o--]=a%N;v[o]=n}return n?++t:v.splice(0,1),V(e,v,t)},D.negated=function(){var e=new $(this);return e.s=-e.s||null,e},D.plus=function(e,r){var n,t=this,i=t.s;if(r=(e=new $(e,r)).s,!i||!r)return new $(NaN);if(i!=r)return e.s=-r,t.minus(e);var o=t.e/l,s=e.e/l,f=t.c,c=e.c;if(!o||!s){if(!f||!c)return new $(i/0);if(!f[0]||!c[0])return c[0]?e:new $(f[0]?t:0*i)}if(o=p(o),s=p(s),f=f.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=f),n.reverse();i--;n.push(0));n.reverse()}for((i=f.length)-(r=c.length)<0&&(n=c,c=f,f=n,r=i),i=0;r;)i=(f[--r]=f[r]+c[r]+i)/u|0,f[r]=u===f[r]?0:f[r]%u;return i&&(f=[i].concat(f),++s),V(e,f,s)},D.precision=D.sd=function(e,r){var n,t,i,o=this;if(null!=e&&e!==!!e)return d(e,1,g),null==r?r=L:d(r,0,8),W(new $(o),e,r);if(!(n=o.c))return null;if(t=(i=n.length-1)*l+1,i=n[i]){for(;i%10==0;i/=10,t--);for(i=n[0];i>=10;i/=10,t++);}return e&&o.e+1>t&&(t=o.e+1),t},D.shiftedBy=function(e){return d(e,-c,c),this.times("1e"+e)},D.squareRoot=D.sqrt=function(){var e,r,t,i,o,s=this,f=s.c,u=s.s,l=s.e,c=x+4,a=new $("0.5");if(1!==u||!f||!f[0])return new $(!u||u<0&&(!f||f[0])?NaN:f?s:1/0);if(0==(u=Math.sqrt(+X(s)))||u==1/0?(((r=w(f)).length+l)%2==0&&(r+="0"),u=Math.sqrt(+r),l=p((l+1)/2)-(l<0||l%2),t=new $(r=u==1/0?"5e"+l:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+l)):t=new $(u+""),t.c[0])for((u=(l=t.e)+c)<3&&(u=0);;)if(o=t,t=a.times(o.plus(n(s,o,c,1))),w(o.c).slice(0,u)===(r=w(t.c)).slice(0,u)){if(t.e<l&&--u,"9999"!=(r=r.slice(u-3,u+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(W(t,t.e+x+2,1),e=!t.times(t).eq(s));break}if(!i&&(W(o,o.e+x+2,0),o.times(o).eq(s))){t=o;break}c+=4,u+=4,i=1}return W(t,t.e+x+1,L,e)},D.toExponential=function(e,r){return null!=e&&(d(e,0,g),e++),z(this,e,r,1)},D.toFixed=function(e,r){return null!=e&&(d(e,0,g),e=e+this.e+1),z(this,e,r)},D.toFormat=function(e,r,n){var t,i=this;if(null==n)null!=e&&r&&"object"==typeof r?(n=r,r=null):e&&"object"==typeof e?(n=e,e=r=null):n=F;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(t=i.toFixed(e,r),i.c){var o,f=t.split("."),u=+n.groupSize,l=+n.secondaryGroupSize,c=n.groupSeparator||"",a=f[0],h=f[1],g=i.s<0,p=g?a.slice(1):a,w=p.length;if(l&&(o=u,u=l,l=o,w-=o),u>0&&w>0){for(o=w%u||u,a=p.substr(0,o);o<w;o+=u)a+=c+p.substr(o,u);l>0&&(a+=c+p.slice(o)),g&&(a="-"+a)}t=h?a+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):a}return(n.prefix||"")+t+(n.suffix||"")},D.toFraction=function(e){var r,t,i,o,f,u,c,h,g,p,m,d,v=this,N=v.c;if(null!=e&&(!(c=new $(e)).isInteger()&&(c.c||1!==c.s)||c.lt(P)))throw Error(s+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+X(c));if(!N)return new $(v);for(r=new $(P),g=t=new $(P),i=h=new $(P),d=w(N),f=r.e=d.length-v.e-1,r.c[0]=a[(u=f%l)<0?l+u:u],e=!e||c.comparedTo(r)>0?f>0?r:g:c,u=C,C=1/0,c=new $(d),h.c[0]=0;p=n(c,r,0,1),1!=(o=t.plus(p.times(i))).comparedTo(e);)t=i,i=o,g=h.plus(p.times(o=g)),h=o,r=c.minus(p.times(o=r)),c=o;return o=n(e.minus(t),i,0,1),h=h.plus(o.times(g)),t=t.plus(o.times(i)),h.s=g.s=v.s,m=n(g,i,f*=2,L).minus(v).abs().comparedTo(n(h,t,f,L).minus(v).abs())<1?[g,i]:[h,t],C=u,m},D.toNumber=function(){return+X(this)},D.toPrecision=function(e,r){return null!=e&&d(e,1,g),z(this,e,r,2)},D.toString=function(e){var r,n=this,t=n.s,i=n.e;return null===i?t?(r="Infinity",t<0&&(r="-"+r)):r="NaN":(null==e?r=i<=U||i>=I?N(w(n.c),i):O(w(n.c),i,"0"):10===e&&j?r=O(w((n=W(new $(n),x+i+1,L)).c),n.e,"0"):(d(e,2,q.length,"Base"),r=y(O(w(n.c),i,"0"),10,e,t,!0)),t<0&&n.c[0]&&(r="-"+r)),r},D.valueOf=D.toJSON=function(){return X(this)},D._isBigNumber=!0,null!=r&&$.set(r),$}()).default=n.BigNumber=n,"function"==typeof e&&e.amd?e(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:(r||(r="undefined"!=typeof self&&self?self:window),r.BigNumber=n)}(this);
},{}],"Pxsv":[function(require,module,exports) {
module.exports={"ABI version":2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[{name:"initialSupplyTo",type:"address"},{name:"initialSupply",type:"uint128"},{name:"deployWalletValue",type:"uint128"},{name:"mintDisabled",type:"bool"},{name:"burnByRootDisabled",type:"bool"},{name:"burnPaused",type:"bool"},{name:"remainingGasTo",type:"address"}],outputs:[]},{name:"supportsInterface",inputs:[{name:"answerId",type:"uint32"},{name:"interfaceID",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"disableMint",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"mintDisabled",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"burnTokens",inputs:[{name:"amount",type:"uint128"},{name:"walletOwner",type:"address"},{name:"remainingGasTo",type:"address"},{name:"callbackTo",type:"address"},{name:"payload",type:"cell"}],outputs:[]},{name:"disableBurnByRoot",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"burnByRootDisabled",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"burnPaused",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"setBurnPaused",inputs:[{name:"answerId",type:"uint32"},{name:"paused",type:"bool"}],outputs:[{name:"value0",type:"bool"}]},{name:"transferOwnership",inputs:[{name:"newOwner",type:"address"},{name:"remainingGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"name",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"string"}]},{name:"symbol",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"string"}]},{name:"decimals",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"uint8"}]},{name:"totalSupply",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"uint128"}]},{name:"walletCode",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"cell"}]},{name:"rootOwner",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"address"}]},{name:"walletOf",inputs:[{name:"answerId",type:"uint32"},{name:"walletOwner",type:"address"}],outputs:[{name:"value0",type:"address"}]},{name:"deployWallet",inputs:[{name:"answerId",type:"uint32"},{name:"walletOwner",type:"address"},{name:"deployWalletValue",type:"uint128"}],outputs:[{name:"tokenWallet",type:"address"}]},{name:"mint",inputs:[{name:"amount",type:"uint128"},{name:"recipient",type:"address"},{name:"deployWalletValue",type:"uint128"},{name:"remainingGasTo",type:"address"},{name:"notify",type:"bool"},{name:"payload",type:"cell"}],outputs:[]},{name:"acceptBurn",id:"0x192B51B1",inputs:[{name:"amount",type:"uint128"},{name:"walletOwner",type:"address"},{name:"remainingGasTo",type:"address"},{name:"callbackTo",type:"address"},{name:"payload",type:"cell"}],outputs:[]},{name:"sendSurplusGas",inputs:[{name:"to",type:"address"}],outputs:[]}],data:[{key:1,name:"name_",type:"string"},{key:2,name:"symbol_",type:"string"},{key:3,name:"decimals_",type:"uint8"},{key:4,name:"rootOwner_",type:"address"},{key:5,name:"walletCode_",type:"cell"},{key:6,name:"randomNonce_",type:"uint256"},{key:7,name:"deployer_",type:"address"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"name_",type:"string"},{name:"symbol_",type:"string"},{name:"decimals_",type:"uint8"},{name:"rootOwner_",type:"address"},{name:"walletCode_",type:"cell"},{name:"totalSupply_",type:"uint128"},{name:"burnPaused_",type:"bool"},{name:"burnByRootDisabled_",type:"bool"},{name:"mintDisabled_",type:"bool"},{name:"randomNonce_",type:"uint256"},{name:"deployer_",type:"address"}]};
},{}],"j0Rp":[function(require,module,exports) {
module.exports={"ABI version":2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[],outputs:[]},{name:"supportsInterface",inputs:[{name:"answerId",type:"uint32"},{name:"interfaceID",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]},{name:"destroy",inputs:[{name:"remainingGasTo",type:"address"}],outputs:[]},{name:"burnByRoot",inputs:[{name:"amount",type:"uint128"},{name:"remainingGasTo",type:"address"},{name:"callbackTo",type:"address"},{name:"payload",type:"cell"}],outputs:[]},{name:"burn",inputs:[{name:"amount",type:"uint128"},{name:"remainingGasTo",type:"address"},{name:"callbackTo",type:"address"},{name:"payload",type:"cell"}],outputs:[]},{name:"balance",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"uint128"}]},{name:"owner",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"address"}]},{name:"root",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"address"}]},{name:"walletCode",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"cell"}]},{name:"transfer",inputs:[{name:"amount",type:"uint128"},{name:"recipient",type:"address"},{name:"deployWalletValue",type:"uint128"},{name:"remainingGasTo",type:"address"},{name:"notify",type:"bool"},{name:"payload",type:"cell"}],outputs:[]},{name:"transferToWallet",inputs:[{name:"amount",type:"uint128"},{name:"recipientTokenWallet",type:"address"},{name:"remainingGasTo",type:"address"},{name:"notify",type:"bool"},{name:"payload",type:"cell"}],outputs:[]},{name:"acceptTransfer",id:"0x67A0B95F",inputs:[{name:"amount",type:"uint128"},{name:"sender",type:"address"},{name:"remainingGasTo",type:"address"},{name:"notify",type:"bool"},{name:"payload",type:"cell"}],outputs:[]},{name:"acceptMint",id:"0x4384F298",inputs:[{name:"amount",type:"uint128"},{name:"remainingGasTo",type:"address"},{name:"notify",type:"bool"},{name:"payload",type:"cell"}],outputs:[]},{name:"sendSurplusGas",inputs:[{name:"to",type:"address"}],outputs:[]}],data:[{key:1,name:"root_",type:"address"},{key:2,name:"owner_",type:"address"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"root_",type:"address"},{name:"owner_",type:"address"},{name:"balance_",type:"uint128"}]};
},{}],"H6gL":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function s(e){try{a(r.next(e))}catch(n){i(n)}}function c(e){try{a(r.throw(e))}catch(n){i(n)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(s,c)}a((r=r.apply(e,n||[])).next())})},n=this&&this.__generator||function(e,n){var t,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(c){i=[6,c],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("everscale-inpage-provider"),o=require("bignumber.js"),i=t(require("broxus-ton-tokens-contracts/build/TokenRoot.abi.json")),s=t(require("broxus-ton-tokens-contracts/build/TokenWallet.abi.json")),c=new r.ProviderRpcClient,a=function(){function t(e,n){this.meta=e,this.contract=n}return t.build=function(t){return e(this,void 0,void 0,function(){return n(this,function(e){return":"===t[1]?[2,this.buildByAddress(t)]:[2,this.buildBySymbol(t)]})})},t.buildByAddress=function(o){return e(this,void 0,void 0,function(){var e,i,s,c;return n(this,function(n){switch(n.label){case 0:return e=t.rootConnect(new r.Address(o)),s=parseInt,[4,e.methods.decimals({answerId:0}).call()];case 1:return i=s.apply(void 0,[n.sent().value0]),[4,e.methods.symbol({answerId:0}).call()];case 2:return c=n.sent().value0,[2,new t({decimals:i,symbol:c},e)]}})})},t.buildBySymbol=function(o){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,u(o)];case 1:if(!(e=n.sent()).address&&!e.decimals)throw new Error("Not exist symbol: ".concat(o));return[2,new t(e,t.rootConnect(new r.Address(e.address)))]}})})},t.prototype.walletOf=function(o){return e(this,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,this.contract.methods.walletOf({walletOwner:new r.Address(o),answerId:0}).call()];case 1:return e=n.sent().value0,[2,t.walletConnect(e)]}})})},t.prototype.balanceOf=function(t){return e(this,void 0,Promise,function(){var e,r,i;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.walletOf(t)];case 1:return e=n.sent(),r=o.BigNumber.bind,[4,e.methods.balance({answerId:0}).call()];case 2:return[2,(new(r.apply(o.BigNumber,[void 0,n.sent().value0]))).div(new o.BigNumber(10).pow(this.meta.decimals))];case 3:return i=n.sent(),console.info(i),[2,new o.BigNumber(0)];case 4:return[2]}})})},t.rootConnect=function(e){return new c.Contract(i.default,e)},t.walletConnect=function(e){return new c.Contract(s.default,e)},t}();function u(t){return e(this,void 0,Promise,function(){var e,r,o,i;return n(this,function(n){switch(n.label){case 0:return[4,f("https://raw.githubusercontent.com/broxus/ton-assets/master/manifest.json")];case 1:for(e=n.sent(),r=0,o=e;r<o.length;r++)if((i=o[r]).symbol===t)return[2,i];throw new Error("Not exist ".concat(t))}})})}function l(t){return e(this,void 0,void 0,function(){return n(this,function(e){return[2,fetch(t).then(function(e){return e.json()}).then(function(e){return e})]})})}function f(t){return e(this,void 0,Promise,function(){return n(this,function(e){switch(e.label){case 0:return[4,l(t)];case 1:return[2,e.sent().tokens]}})})}function d(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function h(e,n){document.querySelectorAll("[data-behavior=".concat(e,"]")).forEach(n)}var b=function(e){return function(n){n.innerText=e}};function v(e){["extension","main"].forEach(function(n){h(n,function(t){return t.style.display=e===n?"block":"none"})})}function w(t){return e(this,void 0,void 0,function(){var e,r,o,i,s,c,u,l,f,v,w,m;return n(this,function(n){switch(n.label){case 0:return[4,a.build(t.filter.symbol||t.filter.rootAddress)];case 1:e=n.sent(),r=t.list,o=[],h("out",b("Check balance ".concat(e.meta.symbol," of ").concat(r.length," accounts"))),i="",s=0,c=r,n.label=2;case 2:return s<c.length?(u=c[s],[4,e.balanceOf(u)]):[3,5];case 3:l=n.sent(),o.push({address:u,balance:l.toNumber()}),i="".concat(u,"\t").concat(l.toFixed(2),"\n")+i,h("log",b(i)),n.label=4;case 4:return s++,[3,2];case 5:return f=function(e){return e.balance>=t.filter.balance},v=o.filter(f),w="Checked ".concat(r.length," accounts.\nFiltered ").concat(v.length," address with balance ").concat(e.meta.symbol," greater than and equal ").concat(t.filter.balance,"."),v.length>0&&(m=v[d(0,v.length-1)],w+="\nAnd random selected:\nð ".concat(m.address," ð")),h("out",b(w)),[2]}})})}function m(){return e(this,void 0,void 0,function(){var t,r=this;return n(this,function(o){switch(o.label){case 0:return[4,c.getProviderState()];case 1:return t=o.sent(),h("network",b("Selected connection: ".concat(t.selectedConnection))),v("main"),h("data",function(t){t.addEventListener("change",function(){return e(r,void 0,void 0,function(){var e;return n(this,function(n){switch(n.label){case 0:return[4,l(t.value)];case 1:return e=n.sent(),console.log(e),[4,w(e)];case 2:return n.sent(),[2]}})})})}),[2]}})})}function p(){return e(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return console.log("App1"),[4,c.hasProvider()];case 1:if(!e.sent())return[3,8];console.log("hasProvider"),e.label=2;case 2:return e.trys.push([2,6,,7]),[4,c.ensureInitialized()];case 3:return e.sent(),[4,c.requestPermissions({permissions:["basic"]})];case 4:return e.sent(),[4,m()];case 5:return e.sent(),[3,7];case 6:throw e.sent();case 7:return console.log("mainFlow"),[3,9];case 8:v("extension"),console.log("extension"),e.label=9;case 9:return console.log("AppE"),[2]}})})}p().catch(function(e){console.error("App:",e)});
},{"everscale-inpage-provider":"RebX","bignumber.js":"vrSf","broxus-ton-tokens-contracts/build/TokenRoot.abi.json":"Pxsv","broxus-ton-tokens-contracts/build/TokenWallet.abi.json":"j0Rp"}]},{},["H6gL"], null)